<AuModal @modalOpen={{true}} 
         @title={{t "regulatoryStatementsPlugin.insertStatement"}} 
         @size="large" 
         @padding="none" 
         @closeModal={{@closeModal}}
         {{!-- {{did-insert (perform this.fetchRegulatoryStatements)}} --}}
  as |modal|>
  <modal.Body>
    <AuMainContainer class="citaten--main-container" as |mc|>
      <mc.sidebar class="citaten--sidebar" @scroll={{true}}>
        <div class="au-c-sidebar">
          <div class="au-c-sidebar__content au-u-padding">
            <AuInput
              id="searchtermexpanded"
              @type="text"
              @width="block"
              @icon="search"
              @iconAlignment="right"
              placeholder={{t "regulatoryStatementsPlugin.search"}}
              @value={{this.searchValue}}
              {{on "input" this.updateFilter}} />
            <AuHr @size="large" />
            {{#if this.regulatoryStatements.isLoading}}
              <AuLoader @message={{t "regulatoryStatementsPlugin.loading"}} />
            {{else if this.regulatoryStatements.records}}
              <ul class="au-c-list-navigation">
                {{#each this.regulatoryStatements.records as |statement|}}
                  <li class="au-c-list-navigation__item">
                    <AuButton @skin="link"
                      class="au-c-list-navigation__link {{if (eq this.selectedReglement statement) 'active'}}" {{on "click"
                      (fn this.selectStatement statement)}}>
                      {{statement.currentVersion.title}}
                    </AuButton>
                  </li>
                {{/each}}
              </ul>
            {{else}}
              <AuAlert
                @alertTitle="No statements found"
                @alertSkin="warning"
                @alertIcon="cross"
                @alertSize="{{if @fullSize "default" "small"}}"
                @closable={{false}}
                class="{{unless @fullSize "au-u-margin-small"}}">
              </AuAlert>
            {{/if}}
          </div>
        </div>
      </mc.sidebar>
      <mc.content>
        <AuBodyContainer @scroll={{false}}>
          {{#if this.selectedStatement}}
          <div class="say-container">
            <div class="say-container__main">
              <div class="say-editor">
                <div class="say-editor__inner say-content">
                  {{this.selectedStatement.currentVersion.htmlSafeContent}}
                </div>
              </div>
            </div>
          </div>
          {{else}}
          <AuAlert
            @alertTitle="{{t "regulatoryStatementsPlugin.noStatementSelected"}}"
            @alertSkin="warning"
            @alertIcon="cross"
            @alertSize="{{if @fullSize "default" "small"}}"
            @closable={{false}}
            class="{{unless @fullSize "au-u-margin-small"}}">
          </AuAlert>
          <p>{{t "regulatoryStatementsPlugin.noStatementSelected"}}</p>
          {{/if}}
          <div class="au-c-modal__footer">
            <AuToolbar>
              <AuToolbarGroup>
                <AuButton @skin="link" {{on "click" @closeModal}}>{{t "regulatoryStatementsPlugin.cancel"}}</AuButton>
              </AuToolbarGroup>
              <AuToolbarGroup>
                <AuButton @disabled={{not this.selectedStatement}} {{on "click" (fn @insertStatement
                  this.selectedStatement)}}>
                  {{t "regulatoryStatementsPlugin.insertStatement"}}
                </AuButton>
              </AuToolbarGroup>
            </AuToolbar>
          </div>
        </AuBodyContainer>
      </mc.content>
    </AuMainContainer>
  </modal.Body>
</AuModal>
