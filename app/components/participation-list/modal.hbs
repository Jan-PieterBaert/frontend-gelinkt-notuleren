{{#if @show}}
  <div {{did-insert (perform this.fetchData)}}>
    {{#wu-modal
      title="Beheer aanwezigen"
      dialog-class="modal-dialog--wide modal-dialog--sectioned"
      onClose=(action 'togglePopup')
      as |m|}}
      {{#m.content isSectioned=false}}
        {{#if (or (eq this.fetchData.performCount 0) this.fetchData.isRunning)}}
          <p>Bezig met laden van de aanwezigenlijst</p>
          <p class="loader"><span class="u-visually-hidden">Aan het laden</span></p>
        {{else}}
          <div class="au-o-box au-o-box--small au-o-flow">
            <div>
              <AuLabel>
                Voorzitter van de zitting
              </AuLabel>
              <ParticipationList::MandatarisSelector
                @onSelect={{this.selectVoorzitter}}
                @mandataris={{this.voorzitter}}
                @bestuursorgaan={{@bestuursorgaan}}
              />
            </div>

            <div>
              <AuLabel>Secretaris van de zitting</AuLabel>
              <ParticipationList::FunctionarisSelector
                @onSelect={{this.selectSecretaris}}
                @functionaris={{this.secretaris}}
                @bestuursorgaan={{@bestuursorgaan}}
              />
            </div>
            <div>
              <AuLabel>Aanwezige mandatarissen</AuLabel>
              <ParticipationList::MandatarissenTable
                @mandataris={{this.mandataris}}
                @selected={{@aanwezigenBijStart}}
                @onChange={{this.updateMandatarisTable}}
              />
            </div>
          </div>
        {{/if}}
        {{yield}}
      {{/m.content}}
      <AuToolbar @border="top" @size="large">
        <AuToolbarGroup>
          <AuButtonGroup>
            <AuButton {{on "click" this.insert}}>Voeg aanwezigen in</AuButton>
            <AuButton @skin="secondary" {{on "click" this.togglePopup}}>Annuleer</AuButton>
          </AuButtonGroup>
        </AuToolbarGroup>
      </AuToolbar>
    {{/wu-modal}}
  </div>
{{/if}}