<AuModal @modalTitle={{t "manageAgendaZittingModal.modalTitle"}}
         @modalOpen={{@visible}}
         @size="fullscreen"
         @closeModal={{this.cancel}} as |Modal|
>
  <Modal.Body>

    <div class="u-padding--round--small u-background--gray-lightest">
      <h2 class="h5">{{t "manageAgendaZittingModalEdit.modalSubtitle"}}</h2>
    </div>
    <AgendaManager::AgendaItemForm as |Form|>
      <div class="u-padding--round--small">
        {{#if this.isNew}}
          <div class="au-u-padding-top">
            <AgendaManager::DraftImport @agendapunt={{@agendapunt}} @selectedDraft={{@selectedDraft}}
                                        @selectDraft={{@selectDraft}} @importedDrafts={{@importedDrafts}}/>
          </div>
        {{/if}}

        <Form.Textarea @value={{@item.titel}}>
          {{t "manageAgendaZittingModal.titleLabel"}}
        </Form.Textarea>

        <Form.Textarea @value={{@item.beschrijving}}>
          {{t "manageAgendaZittingModal.beschrijvingLabel"}}
        </Form.Textarea>


        <label class="form__label form__label--block u-spacer--tiny">
          {{t "manageAgendaZittingModal.geplandOpenbaar"}}
        </label>

        <Form.Radio as |Radio|>
          <Radio.Option>
            <span>{{t "manageAgendaZittingModalEdit.geplandOpenbaarTrueLabel"}}</span>
          </Radio.Option>
          <Radio.Option>
            <span>{{t "manageAgendaZittingModalEdit.geplandOpenbaarFalseLabel"}}</span>
          </Radio.Option>
        </Form.Radio>

        {{#if (gt @agendapunten.length 1)}}
          <AgendaManager::Move
                  @afterAgendapuntOptions={{@afterAgendapuntOptions}}
                  @agendapunt={{@agendapunt}}
                  @agendapunten={{@agendapunten}}
                  @selectedLocation={{@selectedLocation}}
                  @showAfterAgendapuntOptions={{@showAfterAgendapuntOptions}}
                  @selectedAfterAgendapunt={{@selectedAfterAgendapunt}}
                  @selectAfterAgendapunt={{@selectAfterAgendapunt}}
                  @selectLocation={{@selectLocation}}
          />
        {{/if}}
        {{#unless this.isNew}}
        {{!-- TODO: don't allow delete on published agendapoints  --}}
          <AgendaManager::Delete @delete={{@delete}} @cancelEditing={{@cancelEditing}} @agendapunt={{@agendapunt}}
                                 @afterSave={{@afterSave}} @zitting={{@zitting}}/>
        {{/unless}}
      </div>
    </AgendaManager::AgendaItemForm>
  </Modal.Body>
  <Modal.Footer>
    <AuButtonGroup>
      <AuButton {{on "click" this.save}}>{{t "manageAgendaZittingModal.saveButton"}}</AuButton>
      <AuButton @skin="secondary" {{on "click" this.cancel}}>
        {{t "manageAgendaZittingModal.cancelButton"}}
      </AuButton>
    </AuButtonGroup>
  </Modal.Footer>
</AuModal>
