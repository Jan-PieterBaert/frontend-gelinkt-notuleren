{{#component step isOpen=isOpen title=name pill=algemeneStatus icon=iconName as |step|}}
  {{#if loading}}
    <div class="scanner__text">
      <div class="badge badge--accent badge--l badge--initials">
        <span class="loader"><span class="u-visually-hidden">{{loadingText}}</span></span>
      </div>
    </div>
  {{/if}}
  {{#step.block title=title pillColor=voorVertoningStatus.color pillName=voorVertoningStatus.label}}
    {{{mockDocument.body}}}
  {{/step.block}}
  {{#step.block title="Onderteken" pillColor=handtekeningStatus.color pillName=handtekeningStatus.label}}
    <div class="grid">
      {{#if (eq document.signedResources.length 2)}}
        {{!-- Two signatures placed --}}
        {{#each document.signedResources as |signature|}}
          <div class="col--4-12">
            {{signatures/signed-resource signature=signature}}
          </div>
        {{/each}}
      {{else}}
        {{!-- One signature placed --}}
        {{#if (eq document.signedResources.length 1)}}
          <div class="col--4-12">
            {{signatures/signed-resource signature=document.signedResources.firstObject}}
          </div>
          <div class="col--4-12">
            <p class="smaller uppercase text-fade">Tweede handtekening vereist</p>
            <button class="button button--narrow button--small u-spacer--top--tiny" {{action (action sign mockDocument.signedId)}}>Onderteken {{name}}</button>
          </div>
        {{else}}
          {{!-- No signatures placed --}}
          <div class="col--6-12">
            <p class="smaller uppercase text-fade">Handtekeningen vereist door voorzitter en algemeen directeur met rol <a href="https://gelinkt-notuleren.vlaanderen.be/handleiding/#gebruikersbeheer" target="_blank">ondertekenaar</a></p>
            <!-- dit verschilt voor verschillende organen -->
            <button class="button u-spacer--top--tiny" {{action (action sign mockDocument.signedId)}}>Onderteken {{name}}</button>
          </div>
        {{/if}}
      {{/if}}
    </div>
  {{/step.block}}
  {{#step.block title="Publiceer" pillColor=(if document.publishedResource "primary-blue") pillName=(if document.publishedResource "Publiek" "Niet publiek")}}
    <div class="u-background--gray-lightest u-padding--round--small u-spacer--tb--small">
      <div class="grid">
        {{#if document.publishedResource}}
          <div class="col--3-12">
            {{signatures/published-resource signature=document.publishedResource}}
          </div>
          <div class="col--6-12">
            <p class="smallest uppercase text-fade">Link</p>
            <a href="https://publicatie.gelinkt-notuleren.vlaanderen.be/Aalst/Gemeente/addc9320-02de-11e9-9174-89295b788e5c/ontwerp-agenda" class="small" target="_blank">publicatie.gelinkt-notuleren.vlaanderen.be/Aalst/Gemeente/addc9320-02de-11e9-9174-89295b788e5c/ontwerp-agenda</a>
          </div>
          <div class="col--3-12">
            <p class="smaller uppercase text-fade">Type publicatie</p>
            <p>Publiek voor iedereen</p>
          </div>
        {{else}}
          <div class="col--8-12">
            <p class="smaller uppercase text-fade">Publicatie door <a href="https://gelinkt-notuleren.vlaanderen.be/handleiding/#gebruikersbeheer" target="_blank">publiceerder</a></p>
            <button class="button u-spacer--tb--tiny" {{action publish mockDocument.signedId}}>Publiceer {{name}}</button>
            <p class="text-fade small">De agenda wordt gepubliceerd zoals bovenaan in de voorvertoning naar <a href="https://publicatie.gelinkt-notuleren.vlaanderen.be" target="_blank">publicatie.gelinkt-notuleren.vlaanderen.be</a>, en zal zichtbaar zijn voor iedereen zonder authenticatie.</p>
          </div>
        {{/if}}
      </div>
    </div>
  {{/step.block}}
{{/component}}
