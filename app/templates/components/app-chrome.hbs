<div class="au-c-app-chrome">
  <AuToolbar @size="small" class="au-u-padding-bottom-none">
    <AuToolbarGroup>
      {{#if this.isMeetingMinutes}}
      <AuLink @linkRoute="inbox.index" @skin="secondary">
        <AuIcon @icon="arrow-left" @alignment="left" />
        Terug naar overzicht notulen
      </AuLink>
      {{else if this.isDraftDecisions}}
      <AuLink @linkRoute="inbox.draft-decisions" @skin="secondary">
        <AuIcon @icon="arrow-left" @alignment="left" />
        Terug naar overzicht ontwerpbesluiten
      </AuLink>
      {{/if}}
      <span class="au-c-app-chrome__entity">{{get (await currentSession.group) 'classificatie.label'}} {{get (await currentSession.group) 'naam'}}</span>
    </AuToolbarGroup>
    <AuToolbarGroup>
      <ul class="au-c-list-horizontal au-u-padding-right-tiny">
        {{#unless editorDocument.isNew}}
        {{#if editorDocument.updatedOn}}
        <li class="au-c-list-horizontal__item">
          <span class="au-c-app-chrome__status">
            Bewaard op {{moment-calendar editorDocument.updatedOn}}
          </span>
        </li>
        {{else}}
        <li class="au-c-list-horizontal__item">
          <span class="au-c-app-chrome__status">
            <AuIcon @icon="alert-triangle" @alignment="left" />
            Wijzigingen niet bewaard
          </span>
        </li>
        {{/if}}
        {{/unless}}
        {{#if features.languageSelect}}
        <li class="au-c-list-horizontal__item">
          <LanguageSelect />
        </li>
        {{/if}}
      </ul>
    </AuToolbarGroup>
  </AuToolbar>
  <AuToolbar @size="small" class="au-u-padding-top-none">
    <AuToolbarGroup>
      <div class="au-u-margin-right-small">
        {{#unless editorDocument.isNew}}
          <EditorStatusPill @status={{await documentContainer.status}} />
        {{/unless}}
        {{#if editorDocument.isNew}}
        <AuPill @skin="warning">
          <AuIcon @icon="alert-triangle" @alignment="left" />
          Concept niet bewaard
        </AuPill>
        {{/if}}
      </div>
      <EditorDocumentTitle @editorDocument={{editorDocument}} @readOnly={{readOnly}} />
    </AuToolbarGroup>
    <AuToolbarGroup class="au-c-toolbar__group--actions">
      {{#if @editorDocument.isNew}}
        <LinkTo @route="inbox.index" class="au-c-button au-c-button--tertiary au-c-button--alert" role="menuitem">
          <AuIcon @icon="bin" @alignment="left" />
          Verwijder concept
        </LinkTo>
      {{else}}
      <AuDropdown @dropdownTitle="Bestand acties" @dropdownButtonLabel="Bestand opties" @alignment="right">
        {{#if startSyncModal}}
          <AuButton {{on "click" this.startSyncModal}} @skin="tertiary" role="menuitem">
            <AuIcon @icon="renew" @alignment="left" />
            Synchroniseer gegevens met OCMW
          </AuButton>
        {{/if}}
        {{#if @exportHtmlFunction}}
          <AuButton {{on "click" this.exportHtmlFunction}} @skin="tertiary" role="menuitem">
            <AuIcon @icon="export" @alignment="left" />
            Exporteer als HTML
          </AuButton>
        {{/if}}
        {{#if isArchived}}
          <AuButton {{on "click" this.unarchive}} @skin="tertiary" role="menuitem">
            <AuIcon @icon="document" @alignment="left" />
            Maak actief
          </AuButton>
        {{else}}
          <AuButton {{on "click" this.archive}} @skin="tertiary" role="menuitem">
            <AuIcon @icon="archive" @alignment="left" />
            Archiveer
          </AuButton>
        {{/if}}
        <AuButton {{on "click" this.sendToTrash}} @skin="tertiary" @alert="true" role="menuitem">
          <AuIcon @icon="bin" @alignment="left" />
          Naar prullenmand
        </AuButton>
      </AuDropdown>
      {{/if}}
      {{#if @publish}}
        <AuButton {{on "click" this.publish}} @skin="secondary">Ondertekenen en publiceren</AuButton>
      {{/if}}
      <AuButton {{on "click" this.save}}>Bewaar concept</AuButton>
    </AuToolbarGroup>
  </AuToolbar>
</div>
